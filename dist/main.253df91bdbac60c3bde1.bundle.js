webpackJsonp([0,4],{138:function(e,t,i){"use strict";var n=i(0),r=i(457),o=i(459),a=i(458);i.d(t,"b",function(){return a.a}),i.d(t,"a",function(){return p});var s=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(){i.i(r.a)(),i.i(o.a)(),remoteStorage.access.claim("wiki","rw")}return e.prototype.displayWidget=function(){remoteStorage.displayWidget()},e.prototype.load=function(e){return remoteStorage.wiki.privateArea("").get(e)},e.prototype.save=function(e,t){return remoteStorage.wiki.privateArea("").set(e,t)},e=s([i.i(n.c)(),c("design:paramtypes",[])],e)}()},200:function(e,t,i){"use strict";var n=i(0),r=i(648),o=(i.n(r),i(138));i.d(t,"b",function(){return o.b}),i.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.storageService=e,this.zone=t,this.DEFAULT_CONTENT="",this.DEFAULT_X=100,this.DEFAULT_Y=100,this.DEFAULT_WIDTH=300,this.DEFAULT_HEIGHT=300,this.pages=new r.BehaviorSubject([]),this.lastZIndex=1;var i=this;window.openPage=function(e){i.openPageFromOutside(e)}}return e.prototype.getPages=function(){return this.pages.asObservable()},e.prototype.openPageFromOutside=function(e){var t=this;this.zone.run(function(){t.openPage(e)})},e.prototype.openPage=function(e){var t=this;return this.closePage(e),this.loadPage(e).then(function(e){t.sanitizeCoordinates(e);var i=t.pages.getValue();return i.push(e),t.pages.next(i),e})},e.prototype.closePage=function(e){for(var t=this.pages.getValue(),i=0;i<t.length;++i)if(t[i].title==e){t.splice(i,1);break}this.pages.next(t)},e.prototype.savePage=function(e){var t="page__"+e.title.replace(" ","_");return this.storageService.save(t,e)},e.prototype.getNextZIndex=function(){return++this.lastZIndex},e.prototype.loadPage=function(e){var t=this,i="page__"+e.replace(" ","_");return new Promise(function(n,r){t.storageService.load(i).then(function(i){n(i?i:new o.b(e,t.DEFAULT_CONTENT,t.DEFAULT_X,t.DEFAULT_Y,t.DEFAULT_WIDTH,t.DEFAULT_HEIGHT))})})},e.prototype.sanitizeCoordinates=function(e){var t=window.innerWidth,i=window.innerHeight,n=t-this.DEFAULT_WIDTH,r=i-this.DEFAULT_HEIGHT;e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x>n&&(e.x=n),e.y>r&&(e.y=r),e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>i&&(e.height=i-e.y)},e=a([i.i(n.c)(),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.a&&o.a)&&t||Object,"function"==typeof(c="undefined"!=typeof n.d&&n.d)&&c||Object])],e);var t,c}()},344:function(e,t){function i(e){throw new Error("Cannot find module '"+e+"'.")}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id=344},345:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i(461),i(433)),r=i(0),o=i(460),a=i(454);o.a.production&&i.i(r.a)(),i.i(n.a)().bootstrapModule(a.a)},453:function(e,t,i){"use strict";var n=i(0),r=i(200),o=i(138);i.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.storageService=e,this.pageService=t,this.showDataField=!1}return e.prototype.ngOnInit=function(){var e=this;this.pageService.getPages().subscribe(function(t){e.pages=t}),this.storageService.displayWidget(),this.start()},e.prototype.start=function(){this.pageService.openPage("Start")},e.prototype.dataChange=function(e){this.data=e.target.value},e=a([i.i(n.U)({selector:"app-root",template:i(646),styles:[i(643)]}),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.a&&o.a)&&t||Object,"function"==typeof(c="undefined"!=typeof r.a&&r.a)&&c||Object])],e);var t,c}()},454:function(e,t,i){"use strict";var n=i(192),r=i(0),o=i(423),a=i(429),s=i(453),c=i(456),p=i(455),u=i(138),h=i(200);i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(){}return e=l([i.i(r.b)({declarations:[s.a,c.a,p.a],imports:[n.a,o.a,a.a],providers:[u.a,h.a],bootstrap:[s.a]}),f("design:paramtypes",[])],e)}()},455:function(e,t,i){"use strict";var n=i(0),r=i(613),o=(i.n(r),i(641)),a=(i.n(o),i(614)),s=(i.n(a),i(615)),c=(i.n(s),i(617)),p=(i.n(c),i(618)),u=(i.n(p),i(616)),h=(i.n(u),i(619)),l=(i.n(h),i(620)),f=(i.n(l),i(621)),d=(i.n(f),i(622)),g=(i.n(d),i(623)),x=(i.n(g),i(624)),b=(i.n(x),i(625)),y=(i.n(b),i(626)),v=(i.n(y),i(627)),m=(i.n(v),i(628)),w=(i.n(m),i(629)),k=(i.n(w),i(630)),S=(i.n(k),i(631)),z=(i.n(S),i(632)),P=(i.n(z),i(633)),_=(i.n(P),i(634)),R=(i.n(_),i(635)),j=(i.n(R),i(636)),O=(i.n(j),i(637)),T=(i.n(O),i(638)),A=(i.n(T),i(639)),D=(i.n(A),i(640));i.n(D);i.d(t,"a",function(){return L});var E=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},U=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},L=function(){function e(e){this.el=e,r.setOptions({highlight:function(e,t,i){return t&&Prism.languages[t]&&(e=Prism.highlight(e,Prism.languages[t])),i&&i(null,e),e}}),this.renderer=new r.Renderer,this.renderer.link=function(e,t,i){return"qw"==i?'<a href="javascript:" onClick="openPage(\''+e+"')\">"+e+"</a>":'<a href="'+e+'" title="'+t+'" target="_blank">'+i+"</a>"}}return e.prototype.ngOnChanges=function(){var e=this.prepare(this.rawText);this.el.nativeElement.innerHTML=r(e,{renderer:this.renderer})},e.prototype.prepare=function(e){return e?e:""},E([i.i(n.x)(),U("design:type",String)],e.prototype,"rawText",void 0),e=E([i.i(n.U)({selector:"markdown,[Markdown]",template:"<ng-content></ng-content>",styles:[".token.operator, .token.entity, .token.url, .language-css .token.string, .style .token.string {\n      background: none;\n    }"]}),U("design:paramtypes",["function"==typeof(t="undefined"!=typeof n.D&&n.D)&&t||Object])],e);var t}()},456:function(e,t,i){"use strict";var n=i(0),r=i(200);i.d(t,"a",function(){return s});var o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.pageService=e,this.isViewActive=!0,this.isSourceActive=!1,this.floatingSource="",this.minWidth=250,this.minHeight=100,this.x=100,this.y=100,this.width=300,this.height=300,this.oldX=100,this.oldY=100,this.maximized=!1,this.zindex=10,this.dragging=!1,this.resizing=!1}return e.prototype.ngOnInit=function(){this.floatingSource=this.page.content,this.x=this.page.x,this.y=this.page.y,this.width=this.page.width,this.height=this.page.height,this.zindex=this.pageService.getNextZIndex()},e.prototype.switchToView=function(){this.isViewActive=!0,this.isSourceActive=!1},e.prototype.switchToSource=function(){this.isViewActive=!1,this.isSourceActive=!0},e.prototype.textAreaChange=function(e){this.floatingSource=e.target.value},e.prototype.revert=function(){this.floatingSource=this.page.content,this.switchToView()},e.prototype.save=function(){this.page.content=this.floatingSource,this.page.x=this.maximized?this.oldX:this.x,this.page.y=this.maximized?this.oldY:this.y,this.page.width=this.width,this.page.height=this.height,this.pageService.savePage(this.page),this.switchToView()},e.prototype.close=function(){this.page.x=this.maximized?this.oldX:this.x,this.page.y=this.maximized?this.oldY:this.y,this.page.width=this.width,this.page.height=this.height,this.pageService.savePage(this.page),this.pageService.closePage(this.page.title)},e.prototype.headerMouseDown=function(e){this.lastPosX=e.clientX,this.lastPosY=e.clientY,this.dragging=!0,this.zindex=this.pageService.getNextZIndex()},e.prototype.resizerMouseDown=function(e){this.lastPosX=e.clientX,this.lastPosY=e.clientY,this.resizing=!0,this.zindex=this.pageService.getNextZIndex()},e.prototype.mouseUp=function(e){this.dragging=!1,this.resizing=!1},e.prototype.mouseLeave=function(e){this.mouseUp(e)},e.prototype.mouseMove=function(e){this.maximized||(this.dragging&&(this.x+=e.clientX-this.lastPosX,this.y+=e.clientY-this.lastPosY,this.clearSelection()),this.resizing&&(this.width+=e.clientX-this.lastPosX,this.height+=e.clientY-this.lastPosY,this.width<this.minWidth&&(this.width=this.minWidth),this.height<this.minHeight&&(this.height=this.minHeight),this.clearSelection()),this.lastPosX=e.clientX,this.lastPosY=e.clientY)},e.prototype.toggleMaximize=function(){this.maximized=!this.maximized,this.maximized?(this.oldX=this.x,this.oldY=this.y,this.x=0,this.y=0):(this.x=this.oldX,this.y=this.oldY)},e.prototype.clearSelection=function(){var e=window.getSelection?window.getSelection():document.selection;e&&(e.removeAllRanges?e.removeAllRanges():e.empty&&e.empty())},o([i.i(n.x)(),a("design:type","function"==typeof(t="undefined"!=typeof r.b&&r.b)&&t||Object)],e.prototype,"page",void 0),e=o([i.i(n.U)({selector:"app-page",template:i(647),styles:[i(644)]}),a("design:paramtypes",["function"==typeof(s="undefined"!=typeof r.a&&r.a)&&s||Object])],e);var t,s}()},457:function(e,t,i){"use strict";function n(){Promise.defer=function(){var e,t,i=new Promise(function(){e=arguments[0],t=arguments[1]});return{resolve:e,reject:t,promise:i}}}t.a=n},458:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(e,t,i,n,r,o){this.title=e,this.content=t,this.x=i,this.y=n,this.width=r,this.height=o}return e}()},459:function(e,t,i){"use strict";function n(){RemoteStorage.defineModule("wiki",function(e,t){function i(e,t){return e.scope(t+"/").extend(r).cache("","ALL")}e.declareType("page",{type:"object",properties:{title:{type:"string",required:!0},content:{type:"string",required:!0,default:""},x:{type:"integer",required:!1},y:{type:"integer",required:!1},width:{type:"integer",required:!1},height:{type:"integer",required:!1},lastEdited:{type:"integer",required:!0}}});var n={privateArea:function(t){return i(e,t)},publicArea:function(e){return i(t,e)}},r={set:function(e,t){return t.lastEdited=+Date.now(),this.storeObject("page",e,t)},get:function(e){return this.getObject(e.toString())}};return{exports:n}})}t.a=n},460:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={production:!0}},461:function(e,t,i){"use strict";var n=i(475),r=(i.n(n),i(468)),o=(i.n(r),i(464)),a=(i.n(o),i(470)),s=(i.n(a),i(469)),c=(i.n(s),i(467)),p=(i.n(c),i(466)),u=(i.n(p),i(474)),h=(i.n(u),i(463)),l=(i.n(h),i(462)),f=(i.n(l),i(472)),d=(i.n(f),i(465)),g=(i.n(d),i(473)),x=(i.n(g),i(471)),b=(i.n(x),i(476)),y=(i.n(b),i(660));i.n(y)},643:function(e,t){e.exports="h1,p,a,a:hover,a:visited,a:active{color:lightgray;text-decoration:none}h1,p{margin-left:20px}.active{cursor:pointer}.datafield,.importbutton{margin-left:20px;margin-right:20px;width:calc(100% - 40px);border:0px}.datafield{background-color:lightgray;color:darkgray;height:200px;resize:none}.importbutton{background-color:darkgray;color:lightgray}\n"},644:function(e,t){e.exports=".wrapper.maximized{width:100% !important;height:100% !important;z-index:2147483647 !important}.wrapper{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;box-shadow:5px 5px 5px 0px rgba(0,0,0,0.75);border-radius:5px;background-color:white}.wrapper .resizer{position:absolute;right:0px;bottom:0px;width:20px;height:20px;background:-webkit-linear-gradient(315deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0) 50%, #000 100%);background:linear-gradient(135deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0) 50%, #000 100%);cursor:se-resize}.wrapper .header{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-preferred-size:26px;flex-basis:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;border-bottom:1px solid lightgray;cursor:move}.wrapper .header .frontTabbar{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-preferred-size:45px;flex-basis:45px}.wrapper .header .backTabbar{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-preferred-size:80px;flex-basis:80px;text-align:right}.wrapper .header .title{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.wrapper .header .title div{position:relative;top:4px;font-weight:bold}.wrapper .header .pure-button{font-size:75%}.wrapper .tabView,.wrapper .tabSource{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;left:0px;width:100%}.wrapper .tabView{overflow-y:auto;padding-left:5px;padding-right:5px}.wrapper .tabSource{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.wrapper .tabSource textarea{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-size:12px;resize:none;padding-top:0px;padding-bottom:0px;padding-left:5px;padding-right:5px}.wrapper .tabSource .buttons{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-preferred-size:26px;flex-basis:26px;width:100%}.wrapper .tabSource .buttons .pure-button{font-size:75%}\n"},646:function(e,t){e.exports='\r\n<h1 class="active" (click)="start()">Quik Wik</h1>\r\n<p>\r\n  <a href="https://help.github.com/categories/writing-on-github/" target="_blank">Syntax</a>\r\n</p>\r\n<p>Â© mahe, 2017</p>\r\n\r\n<app-page *ngFor="let page of pages" [page]="page">\r\n</app-page>\r\n'},647:function(e,t){e.exports='<div class="wrapper {{maximized ? \'maximized\' : \'\'}}"\r\n    [style.left.px]="x"\r\n    [style.top.px]="y"\r\n    [style.width.px]="width"\r\n    [style.height.px]="height"\r\n    [style.z-index]="zindex"\r\n    (document:mouseup)="mouseUp($event)"\r\n    (document:mouseleave)="mouseLeave($event)"\r\n    (document:mousemove)="mouseMove($event)">\r\n\r\n  <div class="resizer"\r\n      (mousedown)="resizerMouseDown($event)">\r\n  </div>\r\n\r\n  <div class="header"\r\n      (mousedown)="headerMouseDown($event)">\r\n    <div class="frontTabbar pure-button-group"\r\n        role="group">\r\n      <button class="pure-button {{isSourceActive ? \'pure-button-active\' : \'\'}}"\r\n          (click)="switchToSource()">\r\n        <i class="fa fa-code"></i>\r\n      </button>\r\n    </div>\r\n    <div class="title">\r\n      <div>{{page.title}}</div>\r\n    </div>\r\n    <div class="backTabbar pure-button-group" role="group">\r\n      <button\r\n          class="pure-button {{maximized ? \'pure-button-active\' : \'\'}}"\r\n          (click)="toggleMaximize()">\r\n        <i class="fa fa-window-maximize"></i>\r\n      </button>\r\n      <button\r\n          class="pure-button"\r\n          (click)="close()">\r\n        <i class="fa fa-times"></i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf="isViewActive" class="tabView">\r\n    <markdown [rawText]="page.content"></markdown>\r\n  </div>\r\n\r\n  <div *ngIf="isSourceActive" class="tabSource pure-form">\r\n    <textarea\r\n        class="pure-input-1"\r\n        placeholder="Textareas work too"\r\n        (change)="textAreaChange($event)"\r\n        [value]="floatingSource">\r\n    </textarea>\r\n    <div class="buttons pure-g">\r\n      <div class="pure-u-1-3">\r\n        <button\r\n            type="submit"\r\n            class="pure-button pure-input-1 pure-button-secondary"\r\n            (click)="revert()">\r\n          <i class="fa fa-undo"></i>\r\n          Revert\r\n        </button>\r\n      </div>\r\n      <div class="pure-u-1-3">\r\n      </div>\r\n      <div class="pure-u-1-3">\r\n        <button\r\n            type="submit"\r\n            class="pure-button pure-input-1 pure-button-primary"\r\n            (click)="save()">\r\n          <i class="fa fa-hdd-o"></i>\r\n          Save\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n'},661:function(e,t,i){e.exports=i(345)}},[661]);